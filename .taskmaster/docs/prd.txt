# 会計システム PRD

## プロジェクト概要
Next.jsベースの会計システムを構築する。主な機能は仕訳の作成、照会、更新である。

## システム要件

### 全体レイアウト
- 最上部にトップレベルメニューを配置（初期はBizメニューのみ）
- Bizにカーソルオーバーで「仕訳入力」がLv2メニューとして表示
- 仕訳入力にカーソルオーバーで「仕訳作成」「仕訳照会」がメニューとして表示
- 各メニュー項目をクリックすることで対応ページに遷移

### 機能要件

#### 1. 仕訳作成ページ (URL: /siwake/new)
**画面構成:**
- 画面最上部：保存ボタン
- 画面上部：伝票ヘッダ部
- 画面中央：仕訳入力欄
- 画面最下部：仕訳行表示欄

**伝票ヘッダ部:**
- 仕訳計上日（入力可）
- 伝票摘要（入力可）
- 仕訳番号（表示のみ、初期は空欄）

**仕訳入力欄:**
- 借方（左側）と貸方（右側）の2列構成
- 入力項目：
  - 勘定科目コード（コード入力で名称を自動表示）
  - 補助科目コード（コード入力で名称を自動表示）
  - 取引先コード（コード入力で名称を自動表示）
  - 分析コード（コード入力で名称を自動表示）
  - 明細摘要
  - 金額

**仕訳行表示欄:**
- 複数行の仕訳を1行目、2行目、3行目として表示
- 表示項目：勘定科目名・コード、補助科目名・コード、金額

**保存機能:**
- 保存ボタン押下で仕訳データを保存
- 仕訳番号をYYYYMMDDxxxxxxx形式で自動採番（xxxxxxxはインクリメント）

#### 2. 仕訳照会ページ (URL: /siwake/[仕訳番号])
**画面構成:**
- 画面最上部：更新ボタン、削除ボタン
- 仕訳データの表示（仕訳作成ページと同様のレイアウト）

**機能:**
- 更新ボタン押下で仕訳更新ページに遷移
- 削除ボタン押下で該当仕訳を削除

#### 3. 仕訳更新ページ (URL: /siwake/update/[仕訳番号])
**画面構成:**
- 画面最上部：保存ボタン
- 既存仕訳データが入力された状態で表示
- 仕訳作成ページと同様の入力欄

**機能:**
- 既存データの編集・更新が可能
- 保存ボタン押下で更新内容を保存

## 技術要件
- フレームワーク：Next.js
- データベース：SQLiteまたはPostgreSQL
- UI：モダンなレスポンシブデザイン
- 状態管理：React hooks
- バリデーション：フォーム入力の適切な検証

## データ構造

### 仕訳テーブル
- 仕訳番号（PK）
- 仕訳計上日
- 伝票摘要
- 作成日時
- 更新日時

### 仕訳明細テーブル
- 仕訳番号（FK）
- 行番号
- 借方・貸方区分
- 勘定科目コード
- 補助科目コード
- 取引先コード
- 分析コード
- 明細摘要
- 金額

### マスタテーブル群
- 勘定科目マスタ
- 補助科目マスタ
- 取引先マスタ
- 分析コードマスタ

## 品質要件
- レスポンシブデザイン対応
- アクセシビリティ対応
- エラーハンドリング
- データの整合性確保
- セキュリティ対策 